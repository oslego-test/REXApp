Rex app tasks:

CRAWLER and API:

- Crawling
once every 2 hours trigger crawlers
after each crawler completes store the results in a temporary place
after all crawlers complete aggregate data
create a JSON with all currencies and banks, buy and sell values

- Sanity check
Load previous JSON object from DB
Iterate each entry and compare null or 10% price gap and flag it.
Remove flagged entries from JSON object
Store control and flagged entries in Log JSON
If flagged values exist, send an email to the admin with it.
Append a timestamp to the JSON

- API
push sanity checked JSON to YQL storage (production)
push sanity checked JSON to YQL storage (public API)
	SELECT * FROM rexapp.banks where currencyCode="eur" and operation="sell" and bankId="bcr"
	DESC table: bankIds, currencies, operations

WEBAPP

Show a form with operation (buy/sell), amount and currency.
Check for LocalStorage support
Check for JSON in LocalStorage
Check JSON timestamp
If delta of timestamp and current time is larger than 2 hours, request new data.
Load the JSON from YQL.
Perform calculation on client side, and sorting.
Replace JSON from LocalStorage and replace timestamp.

-- use debug=true in URL to bypass LocalStorage


MOBILEAPP

Functionality same as WEBAPP.
Use offline cache manifest for files.


